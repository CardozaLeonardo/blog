<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Media Guide</title>
    <link rel="stylesheet" href="../style/style.css">
    <link rel="stylesheet" href="../style/objects.css">

    <link rel="stylesheet" href="../style/home.css">
    <link rel="stylesheet" href="../style/responsive.css">
    <link rel="shortcut icon" href="../img/icon/brand.ico" type="image/x-icon">
</head>
<body>
    <nav class="navbar">
        
        <div class="container-sfull" style="height: inherit;">

            <!-- <a href="index.html" class="brand">Brand</a> -->
            <a href="index.html" class="brand"><img class="brand-image" src="../img/icon/brand.svg" alt="brand"></a>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a href="../index.html" class="nav-link">Inicio</a>
                </li>
                <!-- <li class="nav-item">
                    <a href="#" class="nav-link">Tutoriales</a>
                </li> -->
                <li class="nav-item dropdown">
                    <button class="dropdown-button">Tutoriales </button>
                    <div class="dropdown-icon"></div>
                    <div class="dropdown-content">
                        <a href="#" class="">HTML</a>
                        <a href="#" class="">CSS</a>
                        <a href="#" class="">JavaScript</a>
                        <a href="#" class="">JQuery</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="../contact.html" class="nav-link">Contacto</a>
                </li>
                <li class="nav-item">
                    <a href="../about.html" class="nav-link">Acerca</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container">

        
        <div class="main-content">

            <h1>Obteniéndo registros de una API con AJAX (JQuery) - Tutorial</h1>
            <hr>
    
            <div class="author-box">
                <figure class="author-profile">
                    <img src="../img/leonardo.jpg" alt="autor">
                </figure>

                <div class="author-info">
                    <a href="../about.html" class="author-name">Leonardo Cardoza Orozo</a>
                    <p class="post-date">Miércoles 19 de junio de 2019</p>
                </div>
            </div>
            <figure class="post-img">
                <!-- <img src="img/computer-1836330_1920.png" alt="image"> -->
                <img src="../img/articles/ajax-jquery.png" alt="image">
            </figure>
            <hr>
            
            <p>
                ¡Muy buenas a todos! El día hoy haré una demostración de cómo pedir datos 
                haciendo uso de AJAX, un módulo de JQuery. Uno de los mayores usos que se le
                da a JQuery es para realizar procesos asíncronos, que por lo general son consultas 
                a API´s.
            </p>

            <p>
                Ahora ¿Qué API usaremos? Para esta ocasión usaremos la una <strong>API con información de Star Wars</strong> . Sí, se 
                llama SWAPI, y esta nos permite tener información de elementos de la película, como planetas y 
                personajes.
            </p>

            <figure class="post-img">
                <img src="../img/articles/api-starwars-ajax/swapi.PNG" alt="swapi">
            </figure>
        
            <p>
                Sin más preámbulo, ¡empecemos!
            </p>

            <h3>Nuevo documento y JQuery</h3>
        
            <p>
                Lo primero que vamos a hacer es crear un nuevo documento HTML, el nombre 
                puede ser el que tú quieres, ya que al final no importa. Una vez creado el documento 
                HTML (con su estructura de funcionamiento básica), tenemos que agregar la librería JQuery 
                a nuestro archivo. Para ello, podemos utilizar links ofrecido tanto por el sitio oficial y 
                Google CDN, o bien descargarnos el archivo de la librería.
            </p>

            <p>
                Yo usaré la siguiente etiqueta para adquirirlo: 
            </p>

            <figure class="post-img">
                <img src="../img/articles/api-starwars-ajax/link-jquery.PNG" alt="link-jquery">
            </figure>

            <h3>Nuevo script y configuración</h3>

            <p>
                Ahora crearemos un nuevo archivo JavaScript, igualmente aquí el nombre no importa, 
                sólo debemos ser cuidadosos al agregar el script a nuestro HTML. La idea es colocar 
                la etiqueta “script” que agrega nuestro archivo JavaScript dentro de “body”, de forma 
                que cuando se procese el código, se lea primero la librería JQuery y así utilizar sus 
                funciones en nuestro script.
            </p>

            <figure class="post-img">
                <img src="../img/articles/api-starwars-ajax/adding-script.PNG" alt="">
            </figure>

            <p>¡Empecemos a codear!</p>
            <p>Empecemos con unas variables que nos permitirán establecer la conexión con el 
             servidor de SWAPI:
            </p>

            <figure class="post-img">
                <img src="../img/articles/api-starwars-ajax/first_variables.PNG" alt="">
            </figure>

            <p>
                Ahora explico. Comencemos con “API_URL”, está variable contiene la dirección 
                con la que nos conectamos al servidor. “PEOPLE_URL” es el segmento de la dirección 
                que nos consultará los personajes. Si observamos el sitio de SWAPI, nos daremos cuenta 
                que podemos escoger los segmentos “/people/id”, “planet/id/” y “starship/id”, todas las 
                opciones son seguidas por un id que corresponde a un registro en específico.
            </p>

            <p>
                En la asignación de la variable “lukeUrl” hacemos un remplazo del segmento del ID, con un 
                valor numérico (1) que corresponde al personaje Luke Skywalker. Recordemos que con el 
                segmento “/people/” nos referimos a los personajes.
            </p>

            <h3>Creando las funciones para la petición</h3>

            <figure class="post-img">
                <img src="../img/articles/api-starwars-ajax/funciones.PNG" alt="">
            </figure>

            <p>
                Creamos nuestra función “onPeopleResponse” que lo declaramos como una variable. Esta 
                función será nuestro callback. Ahora te estará preguntando qué demonios es un callback, 
                pues los callbacks son funciones que se ejecutarán cuando nuestras operaciones asíncronas, 
                pues son procesos no dependientes al principal. Para explicar el tema del asincronismo se 
                requerirá de un futuro post, sigamos con el tutorial.
            </p>

            <p>
                Con “obtenerPersonajes” obtendremos un valor en formato JSON recuperado desde el servidor de SWAPI, 
                uno de los parámetros que contiene es “name”, el cual será mostrado con nuestro callback. Esta función 
                tiene un ID como parámetro, el cual especifica el personaje que queremos obtener.
            </p>

            <p>Y sólo nos quedaría llamar a la función, pasándole el un ID:</p>

            <figure class="post-img">
                <img src="../img/articles/api-starwars-ajax/calling.png" alt="">
            </figure>

            <h3>Ejecutamos la petición</h3>

            <p>
                Ahora vamos a revisar el resultado de la petición. Para ello abriremos nuestro 
                archivo HTML en nuestro navegador. Es muy probable que seas de la gran mayoría de 
                personas que utiliza Google Chrome como su navegador de preferencia, así que una carguemos 
                el archivo en el navegador (que no mostrará nada) le daremos click derecho y seleccionamos inspeccionar.
            </p>

            <p>
                Si nos seleccionamos la consola en el Developement Tools, nos debería 
                aparecer el resultado de la petición.
            </p>

            <figure class="post-img">
                <img src="../img/articles/api-starwars-ajax/console.PNG" alt="">
            </figure>

        </div>

        <div class="lateral-content">
          <!-- <h4>Te puede interesar</h4>
          <div class="post-recom">
              <img src="img/yjdoiycuw04lvrebijtw.jpg" alt="post">

          </div> -->

          <div class="search-group">
                <div class="controllers-cont">

                    <input placeholder="BUSCAR" type="text" class="txt-buscar">
                        <button type="submit" class="search-button"><i class="search-icon"></i></button>
                </div>
          </div>

          <div class="tag-container">
              
            <h5 class="tag-title">Etiquetas</h5>
            <div class="tags">
                <a href="#" class="tag">CSS</a>
                <a href="#" class="tag">HTML</a>
                <a href="#" class="tag">JQUERY</a>
                <a href="#" class="tag">JavaScript</a>
            </div>

          </div>
        </div>
    </div>


    <footer>
        <p>Todos los derechos reservados - 2019</p>
        <div class="social">
            <a href="#" class="social-link"><img src="../img/icon/facebook-logo-button.svg" alt="facebook"></a>
            <a href="#" class="social-link"><img src="../img/icon/twitter.svg" alt="twitter"></a>
            <a href="#" class="social-link"><img src="../img/icon/github-logo.svg" alt="github"></a>
            <a href="#" class="social-link"><img src="../img/icon/youtube.svg" alt="youtube"></a>
        </div>
    </footer>
</body>
</html>